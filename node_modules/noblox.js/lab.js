
const cookie = '_|WARNING:-DO-NOT-SHARE-THIS.--Sharing-this-will-allow-someone-to-log-in-as-you-and-to-steal-your-ROBUX-and-items.|_288BC40836232D5F9B47A4CBE0D876CA492B307A0304A796E4CBC67D983973568F393C2EF5E4CD8F68F47C610A7EBB4FF9CC6C19860822DE69F1737E36BC94A84489C4108D8E986D772A2376761FDBBEC825E2237CE34582DAA1980F81F91699D7BB0CD05092BC7871838D65A3513E528EE9290C095C27F9A0A39406F340A676DA112BC9043A15B9638E1955782BBC3DE1524896B9B55B4B791C49C93A4857A573C895708A24FE09FF5F4D0B312F042F65B3D3855E3B787468BDC5F9E01B6D643E36B0AA5EDDEEEF272CB7B3685850AFAC2FDA6BFC7BCD3359178D8A40D7AEB9637A47955E6766F6B0DC1E2DC5A364088A0C1B085D2B7F012679994C2080F2A857CF55C1B69EF068826A30828DB304E4BE13B1C9BCCEC75C70D4E85082F56B2ADB7057B1C8E880F912CD478A4FD74F3B97BA1835'
const nbx = require('./lib')
const fs = require('fs')

async function run () {
  // await nbx.cookieLogin(cookie).then(console.log).catch(console.error)
  await nbx.setCookie(cookie).then(console.log).catch(console.error)
  // await nbx.getGameInstances(632574862, 0).then(console.log).catch(console.error)

  // const onBlurbChange = nbx.onBlurbChange(55549140)
  // console.log(await nbx.getBlurb(55549140))
  // onBlurbChange.on('data', function (data) {
  //   console.log(data)
  // })

  // nbx.getAuditLog()
  // await nbx.getIdFromUsername('Quenty').then(console.log).catch(console.error)

  // onWallPost.on('error', function (err) {
  //   console.error(err.stack)
  // })

  // const onShout = nbx.onShout(4591072)
  // onShout.on('data', function (post) {
  //   console.log(post)
  // })

  // onShout.on('error', function (err) {
  //   console.error(err.stack)
  // })

  // var onMessage = nbx.onMessage()
  // onMessage.on('data', function (message) {
  //   console.log(message)
  // })
  // onMessage.on('error', function (err) {
  //   console.error(err.stack)
  // })

  // console.log('group roles: ', await nbx.getRoles(4591072))
  // console.log('groupholder: ', await nbx.getRole({ group: 4591072, name: 'Group Holder' }).catch(console.error))
  // console.log(await nbx.getGroup(4591072)
  // await nbx.uploadItem('magical', 13, fs.createReadStream('./log.jpg')).then(console.log).catch(console.error)
  // nbx.getIdFromUsername('GigsD4X').then(console.log).catch(console.error)
  // nbx.getUsernameFromId(44545891).then(console.log)
  // nbx.getPlayerInfo(44545891).then(console.log)
  // nbx.getMessages(0, 3, 'Inbox').then(r => console.log(r.collection[0])).catch(console.error)
  // nbx.getFriends(55549140).then(console.log).catch(console.error)
  // nbx.getMessages({ messageTab: 'Inbox', pageNumber: 0, pageSize: 5 }).then(console.log).catch(console.error)
  // nbx.getStatus(55549140).then(console.log).catch(console.error)
  // await nbx.shout(12, 'I SAW THE MOOOOOON!').then((res) => console.log(res.poster)).catch(console.error)
  // nbx.demote(4591072, 89766922).then((obj) => {
  //   console.log(obj)
  // }).catch(console.error)
  // nbx.demote(4591072, 47039577).then((obj) => {
  //   console.log(obj)
  // }).catch(console.error)
  // nbx.setRank({ group: 4591072, target: 89766922, rank: 253 }).then(console.log).catch(console.error)
  // nbx.configureItem(1989194006, 'Cardy Tee', 'edit one').then(console.log).catch(console.error)
  // nbx.follow(1).then(console.log).catch(console.error)
  // await nbx.uploadItem('Log', 8, fs.createReadStream('./log.jpg')).then(console.log).catch(console.error)
  // await nbx.handleJoinRequest(4591072, 857710783, false).then(console.log).catch(console.error)
  // await nbx.exile(4591072, 857710783).catch(console.error)
  // nbx.message(53447630, 'Ain\'t no mountain high!', 'Ain\'t no valley low').then(console.log).catch(console.error)
  // nbx.getFriendRequests().then(console.log).catch(console.error)
  // await nbx.groupPayout({ group: 5334605, member: [812436703], amount: [1], recurring: true }).then(console.log).catch(console.error)
  // await nbx.getWall({ group: 4591072 }).then(r => console.log(r.data)).catch(console.error)
  // await nbx.wearAssetId(102611803).then(console.log).catch(console.error)
  // await nbx.getRoles(4591072).then(console.log).catch(console.error)
  // await nbx.getPlayers(4591072, 32867453).then(console.log).catch(console.error)
  // await nbx.getAuditLog(4591072).then(r => r.data[5]).then(console.log).catch(console.error)
  // await nbx.getRolePermissions(4591072, 32867453).then(console.log).catch(console.error)
  // await nbx.getStatus(55549140).then(console.log).catch(console.error)
  // async function getRequests (jar, group, cursor) {
  //   const requests = []
  //   await getJoinRequests({ jar, group, cursor, limit: 100 }).then(async (res) => {
  //     requests.push.apply(requests, res.data)
  //     if (res.nextPageCursor) {
  //       requests.push.apply(requests, await getRequests(jar, group, res.nextPageCursor))
  //     }
  //   })
  //   return requests
  // }

  // async function getFollowers (user, cursor) {
  //   console.log(user, cursor)
  //   const followers = []
  //   await nbx.getFollowers({ userId: user, cursor, limit: 100 }).then(async (res) => {
  //     followers.push.apply(followers, res.data)
  //     if (res.nextPageCursor) {
  //       followers.push.apply(followers, await getFollowers(user, res.nextPageCursor))
  //     }
  //   })
  //   return followers
  // }

  // await nbx.getJoinRequests(4591072).then(res => res.data).then(console.log).catch(console.error)
  // await getFollowers(55549140).then((res) => console.log(res.length)).catch(console.error)
  // var evt = nbx.onJoinRequestHandle(4591072)
  // evt.on('data', function (request) {
  //   console.log(request)
  //   evt.emit('handle', request, true, function () {
  //     console.log('Accepted', request.requester.username)
  //   })
  // })
  // await nbx.getShout(3073600).then(console.log).catch(console.error)
  // await nbx.getPlayers(199219, 7384163).then(console.log).catch(console.error)
  // await nbx.getPlayerInfo(8166491).then(console.log).catch(console.error)
  await nbx.configureGamePass(13925030, "name", "description", 29, fs.createReadStream('./log.jpg')).then(console.log).catch(console.error)
  // await nbx.getInventoryById(55549140, 13).then(console.log).catch(console.error)
  // await nbx.changeRank(4591072, 64407789, -1).then(console.log).catch(console.error)
  // await nbx.deleteWallPost(4591072, 2015039882).then(console.log).catch(console.error)
  // await nbx.getWall(4591072).then(r => { console.log(r.data[5]) }).catch(console.error)
  // await nbx.getBlurb(await nbx.getIdFromUsername('nonpoiar')).then(console.log).catch(console.error)
  // await nbx.getPresences([55549140]).then(res => console.log(res)).catch(console.error)
  // await nbx.getJoinRequests(4591072).then(r => { console.log(r.data[0]) }).catch(console.error)
  // await nbx.getLogo(4591072).then(console.log).catch(console.error)
  // await nbx.getRolePermissions({ group: 4591072, roleId: 32867453 }).then(console.log).catch(console.error)
  // await nbx.getOwnership(55549140, 4856432498).then(console.log).catch(console.error)
}

run()
